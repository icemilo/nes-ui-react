.nes-ui-progress {
  width: 100%;
  height: 28px;
  margin: 4px;
  color: $base-color;
  background-color: $background-color;
  -webkit-appearance: none;
  appearance: none;

  @media (prefers-color-scheme: dark) {
    background-color: transparent;
  }

  @mixin progress-style($color) {
    &::-webkit-progress-bar {
      background-color: $background-color;

      @media (prefers-color-scheme: dark) {
        background-color: var(--color-black-absolute);
      }
 
      @media (prefers-color-scheme: light) {
        background-color: var(--color-white-absolute);
      }

      @include pixel-borders(
        $corner-size: 1,
        $border-size: $border-size,
        $border-color: 'color-white-absolute',
        $border-inset-color: false
      );

      @media (prefers-color-scheme: light) {
        @include pixel-borders(
          $corner-size: 1,
          $border-size: $border-size,
          $border-color: 'color-black-absolute',
          $border-inset-color: false
        );
      }
    }
    &::-webkit-progress-value {
      background-color: $color;
    }
    &::-moz-progress-bar {
      background-color: $color;
    }
    &::-ms-fill {
      background-color: $color;
      border: none;
    }
  }

  @include progress-style($base-color);

  &.nes-ui-is-rounded {
    @include rounded-corners();
  }

  &.nes-ui-is-primary {
    @include progress-style($primary-color-normal);
  }

  &.nes-ui-is-success { 
    @include progress-style($success-color-normal);
  }

  &.nes-ui-is-warning {
    @include progress-style($warning-color-normal);
  }

  &.nes-ui-is-error {
    @include progress-style($error-color-normal);
  }

  &.nes-ui-is-pattern {
    &::-webkit-progress-value {
      background-color: var(--#{$color-black});
      background-image: linear-gradient(
          45deg,
          $background-color 25%,
          transparent 25%,
          transparent 75%,
          $background-color 75%,
          $background-color
        ),
        linear-gradient(
          45deg,
          $background-color 25%,
          transparent 25%,
          transparent 75%,
          $background-color 75%,
          $background-color
        );
      background-position: 0 0, 10px 10px;
      background-size: 20px 20px;
    }

    &::-moz-progress-bar {
      background-color: var(--#{$color-black});
      background-image: -moz-linear-gradient(
          45deg,
          $background-color 25%,
          transparent 25%,
          transparent 75%,
          $background-color 75%,
          $background-color
        ),
        -moz-linear-gradient(45deg, $background-color 25%, transparent 25%, transparent
              75%, $background-color 75%, $background-color);
      background-position: 0 0, 10px 10px;
      background-size: 20px 20px;
    }

    &::-ms-fill {
      background-color: var(--#{$color-black});
      background-image: linear-gradient(
          45deg,
          $background-color 25%,
          transparent 25%,
          transparent 75%,
          $background-color 75%,
          $background-color
        ),
        linear-gradient(
          45deg,
          $background-color 25%,
          transparent 25%,
          transparent 75%,
          $background-color 75%,
          $background-color
        );
      background-position: 0 0, 10px 10px;
      background-size: 20px 20px;
      border: none;
    }
  }
}
